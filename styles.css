/* GSJA Ekklesia Room Booking System - Stylesheet */
/* Separated from index.html for maintainability */

*{box-sizing:border-box}

/* ===== CSS VARIABLES (THEME SYSTEM) ===== */
:root {
    --bg:               #eef2f7;
    --card-bg:          #ffffff;
    --card-shadow:      0 4px 16px rgba(0,0,0,.08);
    --text-primary:     #111827;
    --text-secondary:   #374151;
    --text-muted:       #6b7280;
    --text-faint:       #9ca3af;
    --border:           #e5e7eb;
    --border-light:     #f3f4f6;
    --input-bg:         #ffffff;
    --input-border:     #d1d5db;
    --surface:          #f9fafb;
    --surface2:         #f3f4f6;
    --header-border:    #f3f4f6;
    --icon-btn-bg:      #ffffff;
    --icon-btn-border:  #e5e7eb;
    --icon-btn-hover:   #f3f4f6;
    --sidebar-bg:       #ffffff;
    --sidebar-shadow:   -4px 0 20px rgba(0,0,0,.15);
    --sidebar-border:   #e5e7eb;
    --sidebar-overlay:  rgba(0,0,0,.3);
    --sheet-bg:         #ffffff;
    --sheet-shadow:     0 -4px 24px rgba(0,0,0,0.15);
    --modal-bg:         #ffffff;
    --footer-bg:        #f3f4f6;
    --footer-border:    #e5e7eb;
    --handle-color:     #d1d5db;
    --fc-today-bg:      #fef3c7;
    --fc-today-num:     #92400e;
    --fc-header-bg:     #f9fafb;
    --fc-header-border: #e5e7eb;
    --fc-col-color:     #6b7280;
    --fc-num-color:     #374151;
    --fc-border:        #f3f4f6;
    --fc-title-color:   #111827;
    --fc-btn-bg:        #ffffff;
    --fc-btn-border:    #e5e7eb;
    --fc-btn-color:     #374151;
    --fc-btn-hover:     #f9fafb;
    --admin-expand-bg:  #f3f4f6;
    --toast-bg:         #111827;
}

[data-theme="dark"] {
    --bg:               #0f172a;
    --card-bg:          #1e293b;
    --card-shadow:      0 4px 24px rgba(0,0,0,.4);
    --text-primary:     #f1f5f9;
    --text-secondary:   #cbd5e1;
    --text-muted:       #94a3b8;
    --text-faint:       #64748b;
    --border:           #334155;
    --border-light:     #1e293b;
    --input-bg:         #0f172a;
    --input-border:     #475569;
    --surface:          #1e293b;
    --surface2:         #334155;
    --header-border:    #334155;
    --icon-btn-bg:      #1e293b;
    --icon-btn-border:  #475569;
    --icon-btn-hover:   #334155;
    --sidebar-bg:       #1e293b;
    --sidebar-shadow:   -4px 0 20px rgba(0,0,0,.5);
    --sidebar-border:   #334155;
    --sidebar-overlay:  rgba(0,0,0,.6);
    --sheet-bg:         #1e293b;
    --sheet-shadow:     0 -4px 24px rgba(0,0,0,0.5);
    --modal-bg:         #1e293b;
    --footer-bg:        #1e293b;
    --footer-border:    #334155;
    --handle-color:     #475569;
    --fc-today-bg:      #1c2a1a;
    --fc-today-num:     #86efac;
    --fc-header-bg:     #0f172a;
    --fc-header-border: #334155;
    --fc-col-color:     #94a3b8;
    --fc-num-color:     #cbd5e1;
    --fc-border:        #334155;
    --fc-title-color:   #f1f5f9;
    --fc-btn-bg:        #334155;
    --fc-btn-border:    #475569;
    --fc-btn-color:     #cbd5e1;
    --fc-btn-hover:     #475569;
    --admin-expand-bg:  #0f172a;
    --toast-bg:         #0f172a;
}

body{
    margin:0;
    font-family:'Inter',sans-serif;
    background: var(--bg);
    transition: background 0.3s ease;
}

.wrapper{
    max-width:1300px;
    margin:auto;
    padding:12px;
}

.card{
    background: var(--card-bg);
    border-radius:20px;
    padding:20px;
    box-shadow: var(--card-shadow);
    border-top: 3px solid #2563eb;
    transition: background 0.3s ease, box-shadow 0.3s ease;
}

[data-theme="dark"] .card {
    background: linear-gradient(160deg, #1e293b 0%, #1a2540 100%);
}

.header{
    position: relative;
    min-height: 100px;
    padding: 20px 0 16px 0;
    border-bottom: 2px solid var(--header-border);
    margin-bottom: 20px;
    border-radius: 10px 10px 0 0;
    overflow: hidden;
}

/* ===== SCENE BACKGROUND ===== */

/* time-scene is a true background — zero natural size */
.time-scene {
    position: absolute;
    inset: 0;
    z-index: 0;
    pointer-events: none;
}

/* Bottom gradient fades scene into card */
.time-scene::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 55%;
    background: linear-gradient(to bottom, transparent, var(--card-bg));
    pointer-events: none;
    z-index: 10;
}

[data-theme="dark"] .time-scene::after {
    background: linear-gradient(to bottom, transparent, #1a2540);
}

/* Each SVG scene fills the container absolutely */
.scene {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 1s ease;
}

.scene.active {
    opacity: 1;
}

/* Content floats on top of scene */
.header-content {
    position: relative;
    z-index: 5;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
}

.header-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: nowrap;
    gap: 12px;
}

/* ===== SCENE ANIMATIONS ===== */

@keyframes cloudDrift {
    0%   { transform: translateX(0px); }
    50%  { transform: translateX(14px); }
    100% { transform: translateX(0px); }
}

@keyframes cloudDriftSlow {
    0%   { transform: translateX(0px); }
    50%  { transform: translateX(-10px); }
    100% { transform: translateX(0px); }
}

@keyframes starTwinkle {
    0%, 100% { opacity: 0.9; }
    50%       { opacity: 0.2; }
}

@keyframes starTwinkleSlow {
    0%, 100% { opacity: 0.65; }
    50%       { opacity: 0.1; }
}

@keyframes sunPulse {
    0%, 100% { opacity: 0.12; transform: scale(1); }
    50%       { opacity: 0.22; transform: scale(1.08); }
}

@keyframes moonGlow {
    0%, 100% { opacity: 0.06; }
    50%       { opacity: 0.14; }
}

.cloud-drift {
    animation: cloudDrift 9s ease-in-out infinite;
}

.cloud-drift-slow {
    animation: cloudDriftSlow 13s ease-in-out infinite;
}

.star-twinkle {
    animation: starTwinkle 2.5s ease-in-out infinite;
}

.star-twinkle-slow {
    animation: starTwinkleSlow 4s ease-in-out infinite;
}

.sun-pulse {
    animation: sunPulse 4s ease-in-out infinite;
    transform-origin: center;
}

.moon-glow {
    animation: moonGlow 3s ease-in-out infinite;
}

/* Church Logo */
.church-logo{
    height:55px;
    width:auto;
    margin-right:16px;
    transition:opacity 0.2s ease;
    display:block;
    object-fit:contain;
}

.church-logo:hover{
    opacity:0.85;
}

/* Logo switching for dark mode */
.logo-light{
    display:block;
}

.logo-dark{
    display:none;
}

/* Show dark logo in dark mode */
@media (prefers-color-scheme: dark){
    .logo-light{
        display:none;
    }
    .logo-dark{
        display:block;
    }
}

.title-container{
    display:flex;
    align-items:center;
    flex:1;
}

.title{
    font-size:22px;
    font-weight:700;
    color: var(--text-primary);
    letter-spacing:-0.5px;
    transition: color 0.3s ease;
    text-shadow: 0 1px 6px rgba(0,0,0,0.25);
}


.actions{
    display:flex;
    gap:8px;
    align-items:center;
}
.actions button{
    height:44px;
    width:44px;
}


button{
    border:none;
    border-radius:10px;
    padding:10px 14px;
    font-weight:600;
    cursor:pointer;
}

.icon-btn{
    height:40px;
    width:40px;
    border-radius:10px;
    border: 1px solid var(--icon-btn-border);
    background: var(--icon-btn-bg);
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    font-size:18px;
    transition:all .15s ease;
    color: var(--text-secondary);
}

/* hover */
.icon-btn:hover{
    background: var(--icon-btn-hover);
    border-color: var(--border);
}

/* click */
.icon-btn:active{
    transform:scale(.96);
}



.primary{ background:#2563eb; color:white; }
.secondary{ background:#e5e7eb; }

.admin-badge{
    background:#16a34a;
    color:white;
    padding:6px 10px;
    border-radius:8px;
    font-size:12px;
}

.fc-event{
    background:#ef4444 !important;
    border:none !important;
}

/* ===== CALENDAR BUTTON POLISH ===== */
.fc-button{
    border-radius:8px !important;
    padding:6px 10px !important;
    font-size:12px !important;
    height:32px !important;
    background: var(--fc-btn-bg) !important;
    border: 1px solid var(--fc-btn-border) !important;
    color: var(--fc-btn-color) !important;
    font-weight:500 !important;
    box-shadow:0 1px 2px rgba(0,0,0,0.05) !important;
}

.fc-button:hover{
    background: var(--fc-btn-hover) !important;
    border-color: var(--border) !important;
}

.fc-button:active,
.fc-button-active{
    background:#2563eb !important;
    color:white !important;
    border-color:#2563eb !important;
}

/* Navigation buttons (prev/next/today) */
.fc-prev-button,
.fc-next-button,
.fc-today-button{
    min-width:32px !important;
    padding:6px 8px !important;
}

/* Toolbar spacing */
.fc-toolbar{
    margin-bottom:16px !important;
    gap:12px !important;
}

.fc-toolbar-chunk{
    display:flex;
    gap:8px;
}

/* Title styling */
.fc-toolbar-title{
    font-size:20px !important;
    font-weight:700 !important;
    color: var(--fc-title-color) !important;
}

/* ===== CALENDAR DAY CELLS POLISH ===== */
.fc-daygrid-day{
    border-color: var(--fc-border) !important;
}

.fc-daygrid-day-number{
    padding:8px !important;
    font-size:14px !important;
    font-weight:500 !important;
    color: var(--fc-num-color) !important;
}

/* Today highlight */
.fc-day-today{
    background: var(--fc-today-bg) !important;
}

.fc-day-today .fc-daygrid-day-number{
    color: var(--fc-today-num) !important;
    font-weight:600 !important;
}

/* Event styling */
.fc-event{
    border-radius: 20px !important;
    padding: 2px 8px !important;
    font-size: 11px !important;
    margin-bottom: 2px !important;
    line-height: 1.4 !important;
    min-width: 60px !important;
    box-shadow: 0 1px 4px rgba(0,0,0,0.15) !important;
    border: none !important;
    transition: transform 0.15s ease, box-shadow 0.15s ease !important;
    cursor: pointer !important;
}

.fc-event:hover {
    transform: translateY(-2px) scale(1.03) !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25) !important;
}

/* Make events even more compact in day/week view */
.fc-timegrid-event {
    font-size: 10px !important;
    padding: 2px 6px !important;
    border-radius: 10px !important;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15) !important;
}

.fc-event-title{
    font-weight: 600 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    letter-spacing: 0.1px !important;
}

/* Day headers */
.fc-col-header-cell{
    background: var(--fc-header-bg) !important;
    border-color: var(--fc-header-border) !important;
    padding:8px 4px !important;
}

.fc-col-header-cell-cushion{
    color: var(--fc-col-color) !important;
    font-weight:600 !important;
    font-size:12px !important;
    text-transform:uppercase !important;
    letter-spacing:0.5px !important;
}

/* FIX: calendar sometimes collapses on mobile */
#calendar{
    min-height:600px;
    margin-bottom:80px; /* Space for FAB */
}

/* FLOAT BUTTON */
.fab{
    position:fixed;
    right:24px;
    bottom:24px;
    background: linear-gradient(135deg, #2563eb, #3b82f6);
    color:white;
    width:60px;
    height:60px;
    border-radius:50%;
    font-size:28px;
    display:flex;
    justify-content:center;
    align-items:center;
    box-shadow: 0 4px 20px rgba(37,99,235,0.45);
    z-index:999;
    cursor:pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    animation: fabBounceIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes fabBounceIn {
    0%   { transform: translateY(80px) scale(0.5); opacity: 0; }
    60%  { opacity: 1; }
    100% { transform: translateY(0) scale(1); opacity: 1; }
}

.fab:hover {
    transform: scale(1.08) translateY(-2px);
    box-shadow: 0 8px 28px rgba(37,99,235,0.55);
}

.fab:active {
    transform: scale(0.95);
}

/* TOOLTIP */
.fab-tip{
    position:fixed;
    right:95px;
    bottom:35px;
    background:#111827;
    color:white;
    padding:10px 14px;
    border-radius:10px;
    font-size:13px;
    z-index:999;
}

/* ===== FIRST TIME OVERLAY ===== */
.hint-overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.55);
    display:none;
    z-index:2000;
}

.hint-box{
    position:fixed;
    bottom:110px;
    right:20px;
    background:white;
    padding:16px;
    border-radius:14px;
    width:260px;
    box-shadow:0 10px 30px rgba(0,0,0,.2);
}

.hint-title{
    font-weight:700;
    margin-bottom:6px;
}

.hint-btn{
    margin-top:10px;
    width:100%;
    background:#2563eb;
    color:white;
}

/* ===== BOTTOM SHEET ===== */
.sheet-overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.4);
    display:none;
    z-index:1000;
}

.bottom-sheet{
    position:fixed;
    left:0;
    right:0;
    bottom:-100%;
    background: var(--sheet-bg);
    border-radius:20px 20px 0 0;
    padding:20px;
    padding-bottom:30px;
    z-index:1001;
    max-height:85vh;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
    box-shadow: var(--sheet-shadow);
    transition: background 0.3s ease, bottom 0.5s cubic-bezier(0.34, 1.28, 0.64, 1);
}

.bottom-sheet.active{
    bottom:0;
}

.handle{
    width:50px;
    height:5px;
    background: var(--handle-color);
    border-radius:999px;
    margin:0 auto 14px;
}

input,select,textarea{
    width:100%;
    padding:14px;
    border-radius:10px;
    border: 1px solid var(--input-border);
    margin-bottom:12px;
    font-size:16px;
    background: var(--input-bg);
    color: var(--text-primary);
    font-family: 'Inter', sans-serif;
    transition: background 0.3s, border-color 0.3s, color 0.3s;
}

input::placeholder, textarea::placeholder {
    color: var(--text-muted);
}

.sheet-title{
    font-weight:700;
    margin-bottom:10px;
    color: var(--text-primary);
}

.sheet-buttons{
    display:flex;
    gap:10px;
    margin-top:6px;
}

.delete{background:#dc2626;color:white}
.edit{background:#ea580c;color:white}

/* Division Colors - Each division gets a unique color */
.fc-event.color-kebaktian { background: #3b82f6 !important; border-color: #2563eb !important; }
.fc-event.color-sekolah-minggu { background: #10b981 !important; border-color: #059669 !important; }
.fc-event.color-11dg { background: #8b5cf6 !important; border-color: #7c3aed !important; }
.fc-event.color-alive { background: #f59e0b !important; border-color: #d97706 !important; }
.fc-event.color-kaum-pria { background: #06b6d4 !important; border-color: #0891b2 !important; }
.fc-event.color-kaum-wanita { background: #ec4899 !important; border-color: #db2777 !important; }
.fc-event.color-kaum-lansia { background: #6366f1 !important; border-color: #4f46e5 !important; }
.fc-event.color-usher { background: #14b8a6 !important; border-color: #0d9488 !important; }
.fc-event.color-diakonia { background: #f97316 !important; border-color: #ea580c !important; }
.fc-event.color-dept-injil { background: #84cc16 !important; border-color: #65a30d !important; }
.fc-event.color-dept-misi { background: #a855f7 !important; border-color: #9333ea !important; }
.fc-event.color-agbf { background: #ef4444 !important; border-color: #dc2626 !important; }
.fc-event.color-kewirausahaan { background: #22c55e !important; border-color: #16a34a !important; }
.fc-event.color-publikasi { background: #eab308 !important; border-color: #ca8a04 !important; }
.fc-event.color-tata-graha { background: #06b6d4 !important; border-color: #0891b2 !important; }
.fc-event.color-fasilitas { background: #64748b !important; border-color: #475569 !important; }
.fc-event.color-tim-doa { background: #f43f5e !important; border-color: #e11d48 !important; }
.fc-event.color-esp { background: #8b5cf6 !important; border-color: #7c3aed !important; }

/* Login Modal */
.login-modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.login-box {
    background: var(--modal-bg);
    border-radius: 16px;
    padding: 30px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 20px 60px rgba(0,0,0,.3);
    transition: background 0.3s ease;
}

.login-title {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 20px;
    text-align: center;
    color: var(--text-primary);
}

.login-input {
    width: 100%;
    padding: 14px;
    border-radius: 10px;
    border: 1px solid #d1d5db;
    margin-bottom: 16px;
    font-size: 16px;
}

.login-buttons {
    display: flex;
    gap: 10px;
}

.login-buttons button {
    flex: 1;
}

/* Sidebar Menu */
.sidebar-menu {
    position: fixed;
    top: 0;
    right: -100%;
    width: 280px;
    height: 100vh;
    background: var(--sidebar-bg);
    box-shadow: var(--sidebar-shadow);
    z-index: 3000;
    transition: right 0.3s ease, background 0.3s ease;
    display: flex;
    flex-direction: column;
}

.sidebar-menu.active {
    right: 0;
}

.sidebar-header {
    padding: 20px;
    border-bottom: 1px solid var(--sidebar-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.sidebar-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
}

.close-sidebar {
    background: none;
    border: none;
    font-size: 28px;
    cursor: pointer;
    padding: 0;
    color: var(--text-muted);
}

.sidebar-content {
    flex: 1;
    overflow-y: auto;
    padding: 10px 0;
}

.select-btn{
    height:40px;
    border-radius:10px;
    border: 1px solid var(--border);
    background: var(--card-bg);
    color: var(--text-primary);
    padding:0 12px;
    font-weight:600;
    cursor:pointer;
}

.menu-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    cursor: pointer;
    transition: background 0.2s;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
    font-size: 16px;
    color: var(--text-secondary);
    font-family: 'Inter', sans-serif;
}

.menu-item:hover {
    background: var(--surface2);
}

.menu-item-icon {
    display: none;
}

.menu-divider {
    height: 1px;
    background: var(--border);
    margin: 8px 0;
}

.sidebar-overlay {
    position: fixed;
    inset: 0;
    background: var(--sidebar-overlay);
    z-index: 2999;
    display: none;
}

.sidebar-overlay.active {
    display: block;
}

/* ===== TOAST NOTIFICATIONS ===== */
.toast {
    position: fixed;
    bottom: -100px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--toast-bg);
    color: white;
    padding: 16px 24px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    z-index: 9999;
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 300px;
    max-width: 90%;
    transition: bottom 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    font-size: 15px;
    font-weight: 500;
}

.toast.show {
    bottom: 24px;
}

.toast.success {
    background: #059669;
}

.toast.error {
    background: #dc2626;
}

.toast.info {
    background: #2563eb;
}

.toast-icon {
    font-size: 20px;
    flex-shrink: 0;
}

.toast-message {
    flex: 1;
}

/* Loading Spinner */
.spinner {
    border: 2px solid #f3f4f6;
    border-top: 2px solid #2563eb;
    border-radius: 50%;
    width: 16px;
    height: 16px;
    animation: spin 0.6s linear infinite;
    display: inline-block;
    margin-left: 8px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Smooth transitions for buttons */
button {
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

button:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

button:active {
    transform: scale(0.96);
}

/* ===== SMOOTH ANIMATIONS ===== */

/* Fade in animation for calendar */
#calendar {
    animation: fadeIn 0.4s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Slide up animation for bottom sheets */
.bottom-sheet {
    animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Fade in overlay */
.sheet-overlay,
.sidebar-overlay {
    animation: fadeInOverlay 0.2s ease-out;
}

@keyframes fadeInOverlay {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* Sidebar slide animation */
.sidebar-menu.active {
    animation: slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
    }
    to {
        transform: translateX(0);
    }
}

/* FAB pulse animation on load */
.fab {
    animation: fabPulse 0.5s ease-out;
}

/* Continuous pulse when hint is visible */
.fab.pulse-hint {
    animation: fabPulseHint 2s ease-in-out infinite;
}

@keyframes fabPulse {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes fabPulseHint {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
    }
    50% {
        transform: scale(1.1);
        box-shadow: 0 12px 30px rgba(37, 99, 235, 0.5);
    }
}

/* Confetti fall animation for easter egg */
@keyframes confettiFall {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
    }
}

/* Card entrance animation */
.card {
    animation: cardEntry 0.5s ease-out;
}

@keyframes cardEntry {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Menu item hover effect */
.menu-item {
    transition: all 0.2s ease;
}

.menu-item:hover {
    background: #f9fafb;
    transform: translateX(4px);
}

.menu-item:active {
    background: #f3f4f6;
}

/* Icon button ripple effect */
.icon-btn {
    position: relative;
    overflow: hidden;
}

.icon-btn::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.icon-btn:active::after {
    width: 100px;
    height: 100px;
}

.change-password-btn {
    background: #0ea5e9;
    color: white;
    display: none;
}

@media(max-width:900px){}

/* ===== FULLCALENDAR DARK MODE EXTRAS ===== */
[data-theme="dark"] .fc-scrollgrid,
[data-theme="dark"] .fc-scrollgrid-sync-table td,
[data-theme="dark"] .fc-scrollgrid-sync-table th,
[data-theme="dark"] .fc-timegrid-slot,
[data-theme="dark"] .fc-timegrid-axis,
[data-theme="dark"] .fc-theme-standard td,
[data-theme="dark"] .fc-theme-standard th {
    border-color: var(--fc-border) !important;
}
[data-theme="dark"] .fc-timegrid-slot-label,
[data-theme="dark"] .fc-daygrid-day.fc-day-other .fc-daygrid-day-number {
    color: var(--text-faint) !important;
}
[data-theme="dark"] .fc-list-day-cushion {
    background: var(--surface2) !important;
    color: var(--text-primary) !important;
}
[data-theme="dark"] .fc-list-empty {
    background: var(--card-bg) !important;
    color: var(--text-muted) !important;
}

/* View sheet body text */
#modalBody {
    color: var(--text-secondary);
    line-height: 1.8;
    font-size: 15px;
}

#modalTitle {
    color: var(--text-primary);
}

#modalBody b {
    color: var(--text-primary);
    font-weight: 600;
}

/* ===== EXTRA DARK MODE OVERRIDES ===== */
[data-theme="dark"] #sidebarAdminBadge {
    background: #14532d !important;
    color: #86efac !important;
}
[data-theme="dark"] #sidebarGuestBadge {
    background: #1e3a5f !important;
    color: #93c5fd !important;
}
[data-theme="dark"] .sheet-buttons .secondary {
    background: var(--surface2);
    color: var(--text-primary);
}
[data-theme="dark"] .login-modal {
    background: rgba(0,0,0,0.75);
}
[data-theme="dark"] label {
    color: var(--text-secondary) !important;
}

/* ===== LOGIN PAGE ===== */
#loginPage {
    position: fixed;
    inset: 0;
    background: #f8fafc;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
    padding: 24px;
    transition: opacity 0.4s ease;
}

#loginPage.fade-out {
    opacity: 0;
    pointer-events: none;
}

@media (prefers-color-scheme: dark) {
    #loginPage {
        background: #0f172a;
    }
}

.login-page-card {
    background: white;
    border-radius: 24px;
    padding: 48px 40px;
    width: 100%;
    max-width: 400px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.12);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
}

@media (prefers-color-scheme: dark) {
    .login-page-card {
        background: #1e293b;
        box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    }
}

.login-page-logo {
    width: 90px;
    height: 90px;
    object-fit: contain;
    margin-bottom: 20px;
}

.login-page-logo-light { display: block; }
.login-page-logo-dark  { display: none;  }

@media (prefers-color-scheme: dark) {
    .login-page-logo-light { display: none;  }
    .login-page-logo-dark  { display: block; }
}

.login-page-title {
    font-size: 22px;
    font-weight: 700;
    color: #111827;
    text-align: center;
    margin-bottom: 36px;
    letter-spacing: -0.3px;
    line-height: 1.3;
}

@media (prefers-color-scheme: dark) {
    .login-page-title { color: #f1f5f9; }
}

.login-page-buttons {
    display: flex;
    gap: 12px;
    width: 100%;
    margin-bottom: 0;
}

.btn-guest {
    flex: 1;
    padding: 14px;
    border-radius: 12px;
    background: #2563eb;
    color: white;
    font-size: 16px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-guest:hover {
    background: #1d4ed8;
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(37,99,235,0.35);
}

.btn-admin-entry {
    flex: 1;
    padding: 14px;
    border-radius: 12px;
    background: transparent;
    color: #374151;
    font-size: 16px;
    font-weight: 600;
    border: 2px solid #d1d5db;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-admin-entry:hover {
    border-color: #6b7280;
    background: #f9fafb;
    transform: translateY(-1px);
}

@media (prefers-color-scheme: dark) {
    .btn-admin-entry {
        color: #cbd5e1;
        border-color: #475569;
    }
    .btn-admin-entry:hover {
        background: #334155;
        border-color: #94a3b8;
    }
}

/* Admin expand area */
.admin-expand {
    width: 100%;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.35s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.3s ease,
                margin-top 0.3s ease;
    opacity: 0;
    margin-top: 0;
}

.admin-expand.open {
    max-height: 160px;
    opacity: 1;
    margin-top: 16px;
}

.admin-expand-inner {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.login-page-input {
    width: 100%;
    padding: 13px 14px;
    border-radius: 10px;
    border: 1.5px solid #d1d5db;
    font-size: 15px;
    font-family: 'Inter', sans-serif;
    background: white;
    color: #111827;
    outline: none;
    transition: border-color 0.2s;
    box-sizing: border-box;
}

.login-page-input:focus {
    border-color: #2563eb;
}

@media (prefers-color-scheme: dark) {
    .login-page-input {
        background: #0f172a;
        border-color: #475569;
        color: #f1f5f9;
    }
    .login-page-input:focus {
        border-color: #3b82f6;
    }
}

.btn-admin-submit {
    width: 100%;
    padding: 13px;
    border-radius: 10px;
    background: #374151;
    color: white;
    font-size: 15px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-admin-submit:hover {
    background: #1f2937;
    transform: translateY(-1px);
}

.login-page-error {
    font-size: 13px;
    color: #dc2626;
    text-align: center;
    min-height: 18px;
    margin-top: -4px;
}

/* ===== DIVISION LEGEND ===== */
.legend-wrap {
    margin-top: 20px;
    background: var(--surface);
    border-radius: 14px;
    border: 1px solid var(--border);
    transition: background 0.3s, border-color 0.3s;
    overflow: hidden;
}

/* Accordion trigger button */
.legend-trigger {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 16px;
    background: none;
    border: none;
    cursor: pointer;
    gap: 10px;
}

.legend-trigger:hover {
    background: var(--surface2);
}

.legend-trigger-left {
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Coloured dot strip preview */
.legend-preview-dots {
    display: flex;
    gap: 4px;
    align-items: center;
    transition: opacity 0.3s ease;
}

.legend-preview-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    flex-shrink: 0;
}

.legend-wrap.open .legend-preview-dots {
    opacity: 0;
    pointer-events: none;
}

.legend-title {
    font-size: 12px;
    font-weight: 700;
    color: #2563eb;
    text-transform: uppercase;
    letter-spacing: 0.8px;
}

[data-theme="dark"] .legend-title {
    color: #93c5fd;
}

/* Chevron — rotates when open */
.legend-chevron {
    width: 18px;
    height: 18px;
    color: #2563eb;
    transition: transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
    flex-shrink: 0;
}

[data-theme="dark"] .legend-chevron {
    color: #93c5fd;
}

.legend-wrap.open .legend-chevron {
    transform: rotate(90deg);
}

/* Collapsible grid — height animates */
.legend-body {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.legend-wrap.open .legend-body {
    grid-template-rows: 1fr;
}

.legend-body-inner {
    overflow: hidden;
    padding: 0 16px;
}

.legend-wrap.open .legend-body-inner {
    padding: 0 16px 16px;
}

.legend-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: 8px;
    padding-top: 4px;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--text-secondary);
    font-weight: 500;
}

.legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
    opacity: 0;
    transform: scale(0);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.legend-dot.popped {
    opacity: 1;
    transform: scale(1);
}

/* Legend dot pop keyframe for overshoot */
@keyframes dotPopIn {
    0%   { transform: scale(0); opacity: 0; }
    70%  { transform: scale(1.4); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

.legend-dot.popping {
    animation: dotPopIn 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* ===== EMPTY STATE ===== */
.empty-state {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 24px;
    text-align: center;
}

.empty-state-icon {
    margin-bottom: 16px;
    opacity: 0.6;
}

.empty-state-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.empty-state-sub {
    font-size: 14px;
    color: var(--text-muted);
    line-height: 1.6;
    max-width: 260px;
}

.empty-state-btn {
    margin-top: 20px;
    padding: 12px 24px;
    background: #2563eb;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    transition: all 0.2s ease;
}

.empty-state-btn:hover {
    background: #1d4ed8;
    transform: translateY(-1px);
}


/* ===== INPUT FOCUS GLOW ===== */
input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: #2563eb !important;
    box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
}

[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
    border-color: #3b82f6 !important;
    box-shadow: 0 0 0 3px rgba(59,130,246,0.2);
}

/* ===== CREATE BUTTON SHIMMER ===== */
@keyframes shimmerBtn {
    0%   { background-position: -200% center; }
    100% { background-position:  200% center; }
}

button.primary {
    background: linear-gradient(90deg, #2563eb 0%, #3b82f6 40%, #2563eb 60%, #1d4ed8 100%);
    background-size: 200% auto;
    animation: shimmerBtn 3s linear infinite;
}

button.primary:hover {
    background-size: 200% auto;
    box-shadow: 0 4px 16px rgba(37,99,235,0.4);
}

/* ===== SHEET SCROLL FADE ===== */
.bottom-sheet::after {
    content: '';
    position: sticky;
    bottom: 0;
    display: block;
    height: 16px;
    background: linear-gradient(to top, var(--sheet-bg), transparent);
    pointer-events: none;
    margin-top: -16px;
}

/* ===== VIEW SHEET DIVISION STRIP ===== */
#viewSheet {
    border-top: 4px solid #2563eb;
    transition: border-color 0.3s ease, background 0.3s ease, bottom 0.3s cubic-bezier(0.4,0,0.2,1);
}

#modalTitle {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 12px;
}

#modalBody {
    color: var(--text-secondary);
    line-height: 1.9;
    font-size: 15px;
}

#modalBody b {
    color: var(--text-primary);
    font-weight: 600;
}

/* ===== ROLE BADGE IN HEADER ===== */
.role-badge {
    font-size: 11px;
    font-weight: 700;
    padding: 4px 10px;
    border-radius: 20px;
    letter-spacing: 0.4px;
    white-space: nowrap;
    animation: badgePulseIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes badgePulseIn {
    0%   { transform: scale(0.6); opacity: 0; }
    100% { transform: scale(1);   opacity: 1; }
}

/* Legend dot stagger pop-in */
@keyframes dotPopIn {
    0%   { transform: scale(0); opacity: 0; }
    70%  { transform: scale(1.3); }
    100% { transform: scale(1); opacity: 1; }
}

.legend-dot {
    animation: dotPopIn 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.role-badge.guest {
    background: #eff6ff;
    color: #1d4ed8;
    border: 1px solid #bfdbfe;
}

.role-badge.admin {
    background: #dcfce7;
    color: #15803d;
    border: 1px solid #bbf7d0;
}

[data-theme="dark"] .role-badge.guest {
    background: #1e3a5f;
    color: #93c5fd;
    border-color: #1e40af;
}

[data-theme="dark"] .role-badge.admin {
    background: #14532d;
    color: #86efac;
    border-color: #166534;
}

/* ===== PAGE FADE OUT ===== */
body.page-leaving {
    animation: pageFadeOut 0.3s ease forwards;
}

@keyframes pageFadeOut {
    from { opacity: 1; }
    to   { opacity: 0; }
}

.skeleton-wrap {
    padding: 8px 0 16px;
}

.skeleton-bar {
    background: linear-gradient(90deg, var(--surface2) 25%, var(--border) 50%, var(--surface2) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.4s infinite;
    border-radius: 8px;
    margin-bottom: 10px;
}

.skeleton-bar.short  { width: 40%; height: 20px; }
.skeleton-bar.medium { width: 70%; height: 32px; }
.skeleton-bar.full   { width: 100%; height: 32px; }
.skeleton-bar.tall   { width: 100%; height: 120px; border-radius: 12px; }

@keyframes shimmer {
    0%   { background-position:  200% 0; }
    100% { background-position: -200% 0; }
}

/* ===== SWIPE TO CLOSE ===== */
.bottom-sheet.is-dragging {
    transition: none !important;
}

@media(max-width:768px){

    /* Logo smaller on mobile */
    .church-logo{
        height:48px;
        margin-right:12px;
    }

	.title{
        font-size:17px;
        flex:1;
    }

    .wrapper{
        padding:8px;
    }

    .header{
        flex-direction:row;
        align-items:center;
        gap:8px;
        padding:16px 12px;
        margin-bottom:16px;
    }

    .actions{
        display:flex;
        align-items:center;
    }
    
    .icon-btn{
        min-width:44px;
        min-height:44px;
        padding:10px;
        font-size:22px;
    }

    /* Calendar buttons - compact on mobile */
    .fc-button{
        padding:5px 8px !important;
        font-size:11px !important;
        height:30px !important;
        border-radius:6px !important;
    }
    
    .fc-prev-button,
    .fc-next-button,
    .fc-today-button{
        min-width:30px !important;
        padding:5px 6px !important;
    }
    
	.fc-toolbar-title{
        font-size:18px !important;
        font-weight:700 !important;
	}
    
    .fc-toolbar{
        gap:8px !important;
        margin-bottom:12px !important;
    }
    
    .fc-toolbar-chunk{
        gap:6px !important;
    }
    
    /* Calendar spacing */
    .fc-daygrid-day{
        min-height:50px !important;
    }
    
    .fc-daygrid-day-number{
        padding:6px !important;
        font-size:13px !important;
    }

    .fab{
        width:60px;
        height:60px;
        font-size:28px;
        right:20px;
        bottom:20px;
        box-shadow:0 4px 12px rgba(0,0,0,0.3);
    }
    
	.card{
        padding:12px;
        border-radius:16px;
	}
    
    /* Bottom sheets - full width on mobile */
    .bottom-sheet{
        max-width:100%;
        border-radius:20px 20px 0 0;
    }
    
    /* Menu items - larger touch targets */
    .menu-item{
        padding:18px 20px;
        font-size:16px;
    }
    
    .menu-item-icon{
        font-size:22px;
        width:28px;
    }
    
    /* Sidebar wider on mobile */
    .sidebar-menu{
        width:320px;
    }

}
/* ===== THEME TOGGLE SWITCH ===== */
.theme-switch {
    cursor: pointer;
    flex-shrink: 0;
    display: flex;
    align-items: center;
}

.theme-track {
    position: relative;
    width: 56px;
    height: 28px;
    border-radius: 14px;
    background: #e2e8f0;
    transition: background 0.4s ease;
    display: flex;
    align-items: center;
    padding: 0 4px;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.15);
}

[data-theme="dark"] .theme-track {
    background: #312e81;
}

.track-icon {
    position: absolute;
    width: 16px;
    height: 16px;
    transition: opacity 0.35s ease;
}

.track-icon-sun {
    right: 6px;
    opacity: 1;
}

.track-icon-moon {
    left: 6px;
    opacity: 0;
}

[data-theme="dark"] .track-icon-sun  { opacity: 0; }
[data-theme="dark"] .track-icon-moon { opacity: 1; }

.theme-thumb {
    position: absolute;
    left: 3px;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: white;
    box-shadow: 0 1px 4px rgba(0,0,0,0.2);
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
                background 0.4s ease,
                box-shadow 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

[data-theme="dark"] .theme-thumb {
    transform: translateX(28px);
    background: #1e1b4b;
    box-shadow: 0 1px 6px rgba(99,102,241,0.4);
}

.thumb-sun,
.thumb-moon {
    position: absolute;
    width: 20px;
    height: 20px;
    transition: opacity 0.35s ease, transform 0.4s ease;
}

.thumb-sun {
    opacity: 1;
    transform: scale(1) rotate(0deg);
}

.thumb-moon {
    opacity: 0;
    transform: scale(0.6) rotate(-30deg);
}

[data-theme="dark"] .thumb-sun {
    opacity: 0;
    transform: scale(0.6) rotate(30deg);
}

[data-theme="dark"] .thumb-moon {
    opacity: 1;
    transform: scale(1) rotate(0deg);
}

/* Night-locked state — shake animation and muted look */
.theme-switch.night-locked .theme-track {
    animation: lockShake 0.4s ease;
}

@keyframes lockShake {
    0%   { transform: translateX(0); }
    20%  { transform: translateX(-4px); }
    40%  { transform: translateX(4px); }
    60%  { transform: translateX(-3px); }
    80%  { transform: translateX(3px); }
    100% { transform: translateX(0); }
}

.theme-switch:hover .theme-track {
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.15),
                0 0 0 3px rgba(99,102,241,0.15);
}

[data-theme="dark"] .theme-switch:hover .theme-track {
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.3),
                0 0 0 3px rgba(196,181,253,0.2);
}

/* Sidebar simple toggle */
.theme-toggle-row {
    gap: 14px;
    align-items: center;
}
